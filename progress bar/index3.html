<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="../../../css/app.css">
  <link rel="stylesheet" href="style.css" />
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <script src="logic.js" defer></script>
  <!-- Fontawesome  -->
  <script src="https://kit.fontawesome.com/c799c0b917.js" crossorigin="anonymous"></script>

  <title>CAMS:: faculty</title>
</head>



<body>

  <div class="container">
    <div class="row">
      <div class="col-12">

        <form action="#" class="">

          <!-- Progress bar -->
          <div class="progressbar">
            <div class="progress" id="progress"></div>

            <div class="progress-step progress-step-active" data-title="Intro"></div>
            <div class="progress-step" data-title="Qualification"></div>
            <div class="progress-step" data-title="Experience"></div>
            <div class="progress-step" data-title="Courses Taught"></div>
            <div class="progress-step" data-title="Course Priority"></div>
          </div>

          <!-- Steps -->

          <!-- Form 1 starts here: Introduction -->
          <div class="form-step form-step-active">

            <!-- single group -->
            <div class="form-group">
              <label for="">Name <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="name" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">CNIC <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="name" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">Phone Number <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="name" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">Address <span class="text-danger">*</span></label>
              <textarea type="text" class="form-control" id="name" autocomplete="off"></textarea>
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">Email <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="name" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">Designation <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="name" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">Faculty Mode <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="name" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">Office Extension <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="name" autocomplete="off">
            </div>
            <!-- single group -->

            <div class="">
              <a href="#" class="btn btn-next width-50 ml-auto">Next</a>
            </div>
          </div>
          <!-- Form 1 ends here: Introduction-->


          <!-- Form 2 Starts here: Qualification -->
          <div class="form-step">

            <!-- single group -->
            <div class="form-group">
              <label for="">Degree <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="name" placeholder="Ex: Bachelor's" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">CGPA <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="name" placeholder="Ex: 3.5" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">Institution <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="name" placeholder="Ex: Harvard University" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">Start date <span class="text-danger">*</span></label>
              <input type="date" class="form-control" id="name" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">End date (or expected) <span class="text-danger">*</span></label>
              <input type="date" class="form-control" id="name" autocomplete="off">
            </div>
            <!-- single group -->


            <div class="btns-group">
              <a href="#" class="btn btn-prev">Previous</a>
              <a href="#" class="btn btn-next">Next</a>
            </div>
          </div>
          <!-- Form 2 ends here: Qualification -->





          <!-- Form 3 starts here: Experience -->
          <div class="form-step">
            <div class="input-group">
              <label for="dob">Date of Birth</label>
              <input type="date" name="dob" id="dob" />
            </div>
            <div class="input-group">
              <label for="ID">National ID</label>
              <input type="number" name="ID" id="ID" />
            </div>
            <div class="btns-group">
              <a href="#" class="btn btn-prev">Previous</a>
              <a href="#" class="btn btn-next">Next</a>
            </div>
          </div>
          <!-- Form 3 ends here: Experience-->



          <!-- Form 4 starts here: Courses Taught -->
          <div class="form-step">

            <!-- single group -->
            <div class="form-group">
              <label for="">Course Name <span class="text-danger">*</span></label>
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">Batch Name <span class="text-danger">*</span></label>
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <!-- single group -->

            <div class="btns-group">
              <a href="#" class="btn btn-prev">Previous</a>
              <!-- <input type="submit" value="Submit" class="btn" /> -->
              <a href="#" class="btn btn-next">Next</a>
            </div>
          </div>
          <!-- Form 4 ends here: Courses Taught -->


          <!-- Form 5 starts here: Course Priority -->
          <div class="form-step">

            <form method="post" id="insert_form">
              <div class="table-repsonsive">
                <span id="error"></span>
                <table class="table table-bordered" id="item_table">
                  <tr>
                    <th>Enter Item Name</th>
                    <th>Enter Quantity</th>
                    <th>Select Unit</th>
                    <th><button type="button" name="add" class="btn btn-success btn-sm add"><i
                          class="fas fa-plus"></i></button></th>
                  </tr>
                </table>
                <div align="center">
                  <input type="submit" name="submit" id="submit_button" class="btn btn-primary" value="Insert" />
                </div>
              </div>
            </form>

            <!-- single group -->
            <div class="form-group">
              <label for="">Course Name <span class="text-danger">*</span></label>
              <input type="text" class="form-control" autocomplete="off">
            </div>
            <!-- single group -->

            <!-- single group -->
            <div class="form-group">
              <label for="">Course Priority <span class="text-danger">*</span></label>
              <input type="number" class="form-control" autocomplete="off">
            </div>
            <!-- single group -->

            <div class="btns-group">
              <a href="#" class="btn btn-prev">Previous</a>
              <input type="submit" value="Submit" class="btn" />
              <!-- <a href="#" class="btn btn-next">Next</a> -->
            </div>
          </div>
          <!-- Form 5 ends here: Course Priority -->
        </form>

      </div>
    </div>
  </div>
  <script>
    $(document).ready(function () {

      var count = 0;

      function add_input_field(count) {

        var html = '';

        html += '<tr>';

        html += '<td><input type="text" name="item_name[]" class="form-control item_name" /></td>';

        html += '<td><input type="text" name="item_quantity[]" class="form-control item_quantity" /></td>';

        html +=
          '<td><select name="item_unit[]" class="form-control selectpicker" data-live-search="true"><option value="">Select Unit</option><?php echo fill_unit_select_box($connect); ?></select></td>';

        var remove_button = '';

        if (count > 0) {
          remove_button =
            '<button type="button" name="remove" class="btn btn-danger btn-sm remove"><i class="fas fa-minus"></i></button>';
        }

        html += '<td>' + remove_button + '</td></tr>';

        return html;

      }

      $('#item_table').append(add_input_field(0));

      $('.selectpicker').selectpicker('refresh');

      $(document).on('click', '.add', function () {

        count++;

        $('#item_table').append(add_input_field(count));

        $('.selectpicker').selectpicker('refresh');

      });

      $(document).on('click', '.remove', function () {

        $(this).closest('tr').remove();

      });

      $('#insert_form').on('submit', function (event) {

        event.preventDefault();

        var error = '';

        count = 1;

        $('.item_name').each(function () {

          if ($(this).val() == '') {

            error += "<li>Enter Item Name at " + count + " Row</li>";

          }

          count = count + 1;

        });

        count = 1;

        $('.item_quantity').each(function () {

          if ($(this).val() == '') {

            error += "<li>Enter Item Quantity at " + count + " Row</li>";

          }

          count = count + 1;

        });

        count = 1;

        $("select[name='item_unit[]']").each(function () {

          if ($(this).val() == '') {

            error += "<li>Select Unit at " + count + " Row</li>";

          }

          count = count + 1;

        });

        var form_data = $(this).serialize();

        if (error == '') {

          $.ajax({

            url: "insert.php",

            method: "POST",

            data: form_data,

            // beforeSend: function() {

            //     $('#submit_button').attr('disabled', 'disabled');

            // },

            success: function (data) {

              if (data == 'ok') {
                alert("d");
                $('#item_table').find('tr:gt(0)').remove();

                $('#error').html(
                  '<div class="alert alert-success">Item Details Saved</div>');

                $('#item_table').append(add_input_field(0));

                $('.selectpicker').selectpicker('refresh');

                $('#submit_button').attr('disabled', false);
              }

            }
          })

        } else {
          $('#error').html('<div class="alert alert-danger"><ul>' + error + '</ul></div>');
        }

      });

    });
  </script>
</body>

</html>